<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- Generated by tohtml $Revision: 1.4 $ on Dec 18 2006 at 12:18:35 -->
<html><head><title>Makefile</title>
<link rev="made" href="mailto:loreti at pd dot infn dot it">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<center><h1>Makefile</h1></center>
<p><hr><p>
Per salvare il file listato qui avanti, scaricatelo direttamente
<a href="http://wwwcdf.pd.infn.it/labo/Source/Makefile">da questo link</a>
(right-click, <em>Save Link As ...</em>).
<p><hr><p>
<center>
<table border=3 cellpadding=10 width="90%" bgcolor="#f5fffa">
<tr><td>
<!-- Generator: GNU source-highlight 2.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><i><font color="#9A1900"># Author: Maurizio Loreti, aka MLO or (HAM) I3NOO</font></i>
<i><font color="#9A1900"># Work:   University of Padova - Department of Physics</font></i>
<i><font color="#9A1900">#         Via F. Marzolo, 8 - 35131 PADOVA - Italy</font></i>
<i><font color="#9A1900"># Phone:  +39 (049) 827-7216   FAX: +39 (049) 827-7102</font></i>
<i><font color="#9A1900"># EMail:  loreti@pd.infn.it</font></i>
<i><font color="#9A1900"># WWW:    http://www.pd.infn.it/~loreti/mlo.html</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900">######################################################################</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># USUAL TARGETS:</font></i>
<i><font color="#9A1900"># ##############</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># - make book.ps    , make book.pdf    : one-block version, 1-up</font></i>
<i><font color="#9A1900"># - make book2up.ps , make book2up.pdf : one-block version, 2-up</font></i>
<i><font color="#9A1900"># - make book       , make pdf         : 50-pages blocks,   1-up</font></i>
<i><font color="#9A1900"># - make 2up        , make pdf2up      : 40-pages blocks,   2-up</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># "make all" is equivalent to "make book pdf"</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900">######################################################################</font></i>
<i><font color="#9A1900"># $Id: Makefile,v 1.14 2006/11/08 11:00:56 loreti Exp $</font></i>
<i><font color="#9A1900">######################################################################</font></i>

<i><font color="#9A1900"># Building rules</font></i>
<i><font color="#9A1900"># ##############</font></i>

<font color="#FF0000">%.dvi:%.tex</font>
	latex <font color="#009900">$&lt;</font>
	<b><font color="#0000FF">while</font></b> grep Rerun <font color="#009900">$*</font><font color="#990000">.</font>log <font color="#990000">;</font> <b><font color="#0000FF">do</font></b> latex <font color="#009900">$&lt;</font> <font color="#990000">;</font> <b><font color="#0000FF">done</font></b>

<font color="#FF0000">%.ps:%.dvi</font>
	dvips -o <font color="#009900">$@</font> <font color="#009900">$&lt;</font>

<font color="#FF0000">%.pdf:%.dvi</font>
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q <font color="#990000">|</font> ps2pdf - <font color="#009900">$@</font>

<font color="#FF0000">%.eps.gz:%.eps</font>
	grep <font color="#990000">&gt;</font> <font color="#009900">$&lt;</font><font color="#990000">.</font>bb BoundingBox <font color="#009900">$&lt;</font><font color="#990000">;</font> gzip -fv9 <font color="#009900">$&lt;</font>

<font color="#FF0000">%.pstex:%.fig</font>
	fig2dev -L pstex -m <font color="#993399">0.73</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>
	fig2dev -L pstex_t -m <font color="#993399">0.73</font> -p <font color="#009900">$@</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>_t

<i><font color="#9A1900"># Commands to build the index (1-up and 2-up versions)</font></i>
<i><font color="#9A1900"># ####################################################</font></i>

<font color="#009900">DOIDX		=</font> makeindex -s book<font color="#990000">.</font>ist book<font color="#990000">.</font>idx
<font color="#009900">DOIDX2UP	=</font> makeindex -s book<font color="#990000">.</font>ist book2up<font color="#990000">.</font>idx

<i><font color="#9A1900"># Commands to build tabout.tex (included in the Appendix F)</font></i>
<i><font color="#9A1900"># #########################################################</font></i>

<i><font color="#9A1900"># /usr/soft/include and /usr/soft/lib host the include files and</font></i>
<i><font color="#9A1900"># libraries of the Gnu Scientific Library (GSL)</font></i>

<font color="#009900">CC		=</font> gcc
<font color="#009900">CPPFLAGS	=</font> -std<font color="#990000">=</font>c99 -pedantic -W -Wall -O2
<font color="#009900">CFLAGS		=</font> -I/usr/soft/include
<font color="#009900">LDFLAGS		=</font> -L/usr/soft/lib -lgsl -lgslcblas -lm
<font color="#009900">OBJS		=</font> table<font color="#990000">.</font>o

<i><font color="#9A1900"># Style file dependencies</font></i>
<i><font color="#9A1900"># #######################</font></i>

<font color="#009900">STYS	=</font> bsheaders<font color="#990000">.</font>sty book<font color="#990000">.</font>ist Makefile

<i><font color="#9A1900"># .tex files needed (not "book.tex")</font></i>
<i><font color="#9A1900"># ##################################</font></i>

<font color="#009900">TEX0	=</font> definitions<font color="#990000">.</font>tex preambolo<font color="#990000">.</font>tex prefazione<font color="#990000">.</font>tex <font color="#990000">\</font>
	  chapter1<font color="#990000">.</font>tex chapter2<font color="#990000">.</font>tex chapter3<font color="#990000">.</font>tex chapter4<font color="#990000">.</font>tex <font color="#990000">\</font>
	  chapter5<font color="#990000">.</font>tex chapter6<font color="#990000">.</font>tex chapter7<font color="#990000">.</font>tex chapter8<font color="#990000">.</font>tex <font color="#990000">\</font>
	  chapter9<font color="#990000">.</font>tex chapter10<font color="#990000">.</font>tex chapter11<font color="#990000">.</font>tex chapter12<font color="#990000">.</font>tex <font color="#990000">\</font>
	  chapter13<font color="#990000">.</font>tex chaptera<font color="#990000">.</font>tex chapterb<font color="#990000">.</font>tex chapterc<font color="#990000">.</font>tex <font color="#990000">\</font>
	  chapterd<font color="#990000">.</font>tex chaptere<font color="#990000">.</font>tex chapterf<font color="#990000">.</font>tex tabelle<font color="#990000">.</font>tex
<font color="#009900">TEXS	=</font> <font color="#009900">$(TEX0)</font> tabout<font color="#990000">.</font>tex

<i><font color="#9A1900"># Figure files</font></i>
<i><font color="#9A1900"># ############</font></i>

<i><font color="#9A1900"># - bo.eps has been scanned from a printed copy</font></i>
<i><font color="#9A1900"># - all other figures are generated by xfig with LaTeX output; the</font></i>
<i><font color="#9A1900">#   original files or were produced directly using xfig, or were</font></i>
<i><font color="#9A1900">#   generated by paw kumac macros, then processed with:</font></i>
<i><font color="#9A1900">#   paw &gt;/dev/null 2&gt;&amp;1 -b file.kumac		# generate file.eps</font></i>
<i><font color="#9A1900">#   pstoedit -f fig file.eps file.fig		# generate file.fig</font></i>
<i><font color="#9A1900">#   xfig file.fig				# edit file.fig</font></i>
<i><font color="#9A1900"># - in the last step all text has been changed to LaTeX default font</font></i>
<i><font color="#9A1900">#   with the 'special' flag set.</font></i>

<font color="#009900">EGZS	=</font> bo<font color="#990000">.</font>eps<font color="#990000">.</font>gz

<font color="#009900">FIGS	=</font> isto<font color="#990000">.</font>pstex cumul<font color="#990000">.</font>pstex modes<font color="#990000">.</font>pstex maxbol<font color="#990000">.</font>pstex istgau<font color="#990000">.</font>pstex <font color="#990000">\</font>
	  polar<font color="#990000">.</font>pstex riget<font color="#990000">.</font>pstex gauss<font color="#990000">.</font>pstex cauchy<font color="#990000">.</font>pstex binom<font color="#990000">.</font>pstex <font color="#990000">\</font>
	  poisson<font color="#990000">.</font>pstex lognor<font color="#990000">.</font>pstex trigau<font color="#990000">.</font>pstex tremis<font color="#990000">.</font>pstex stime<font color="#990000">.</font>pstex <font color="#990000">\</font>
	  chi<font color="#990000">.</font>pstex scat<font color="#990000">.</font>pstex student<font color="#990000">.</font>pstex duegau<font color="#990000">.</font>pstex runfig<font color="#990000">.</font>pstex <font color="#990000">\</font>
	  bigau1<font color="#990000">.</font>pstex bigau2<font color="#990000">.</font>pstex bigau3<font color="#990000">.</font>pstex poisint<font color="#990000">.</font>pstex <font color="#990000">\</font>
	  chicdf<font color="#990000">.</font>pstex chirid<font color="#990000">.</font>pstex

<i><font color="#9A1900"># PostScript files (1-up version): 50-page blocks</font></i>
<i><font color="#9A1900"># ###############################################</font></i>

<font color="#009900">PSS	=</font> book1<font color="#990000">.</font>ps book2<font color="#990000">.</font>ps book3<font color="#990000">.</font>ps book4<font color="#990000">.</font>ps book5<font color="#990000">.</font>ps book6<font color="#990000">.</font>ps book7<font color="#990000">.</font>ps

<i><font color="#9A1900"># Postscript files (2-up version): 40-page blocks</font></i>
<i><font color="#9A1900"># ###############################################</font></i>

<i><font color="#9A1900"># The LaTeX main file for the 2-up version is book2up.tex and not</font></i>
<i><font color="#9A1900"># book.tex; they differ in the values of \odd- and \evensidemargin,</font></i>
<i><font color="#9A1900"># and for a blank page at the beginning (to print the front cover on</font></i>
<i><font color="#9A1900"># the right side of the first sheet)</font></i>

<font color="#009900">PSS2	=</font> bup1<font color="#990000">.</font>ps bup2<font color="#990000">.</font>ps bup3<font color="#990000">.</font>ps bup4<font color="#990000">.</font>ps bup5<font color="#990000">.</font>ps bup6<font color="#990000">.</font>ps bup7<font color="#990000">.</font>ps <font color="#990000">\</font>
	  bup8<font color="#990000">.</font>ps bup9<font color="#990000">.</font>ps

<i><font color="#9A1900"># Phony targets</font></i>
<i><font color="#9A1900"># #############</font></i>

<b><font color="#000080">.PHONY:</font></b> all clean veryclean brown install VERSION

<i><font color="#9A1900"># PostScript files, 1-up version</font></i>
<i><font color="#9A1900"># ##############################</font></i>

<font color="#990000">book:</font> <font color="#009900">$(PSS)</font>
	touch book

<font color="#990000">book.ps:</font> book<font color="#990000">.</font>dvi

<font color="#990000">book1.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p   <font color="#993399">1</font> -l <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book2.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p  <font color="#993399">51</font> -n <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book3.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p <font color="#993399">101</font> -n <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book4.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p <font color="#993399">151</font> -n <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book5.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p <font color="#993399">201</font> -n <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book6.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p <font color="#993399">251</font> -n <font color="#993399">50</font> <font color="#009900">$&lt;</font>

<font color="#990000">book7.ps:</font> book<font color="#990000">.</font>dvi
	dvips -o <font color="#009900">$@</font> -p <font color="#993399">301</font>       <font color="#009900">$&lt;</font>

<font color="#990000">book.dvi:</font> book<font color="#990000">.</font>tex <font color="#009900">$(TEXS)</font> <font color="#009900">$(STYS)</font> <font color="#009900">$(EGZS)</font> <font color="#009900">$(FIGS)</font>
	latex book<font color="#990000">.</font>tex
	<font color="#009900">$(DOIDX)</font>
	<b><font color="#0000FF">while</font></b> grep Rerun book<font color="#990000">.</font>log<font color="#990000">;</font> <b><font color="#0000FF">do</font></b> latex book<font color="#990000">.</font>tex<font color="#990000">;</font> <font color="#009900">$(DOIDX)</font><font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
	latex book<font color="#990000">.</font>tex

<i><font color="#9A1900"># PDF files, 1-up version</font></i>
<i><font color="#9A1900"># #######################</font></i>

<font color="#990000">book.pdf:</font> book<font color="#990000">.</font>dvi

<font color="#990000">pdf:</font> book<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p   <font color="#993399">1</font> -l <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book1<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p  <font color="#993399">51</font> -n <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book2<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#993399">101</font> -n <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book3<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#993399">151</font> -n <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book4<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#993399">201</font> -n <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book5<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#993399">251</font> -n <font color="#993399">50</font> <font color="#990000">|</font> ps2pdf - book6<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#993399">301</font>       <font color="#990000">|</font> ps2pdf - book7<font color="#990000">.</font>pdf
	touch pdf

<i><font color="#9A1900"># PostScript files, 2-up version</font></i>
<i><font color="#9A1900"># ##############################</font></i>

<font color="#990000">twoup:</font> <font color="#009900">$(PSS2)</font>
	touch twoup

<font color="#990000">book2up.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup1.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font>         -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup2.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p  <font color="#990000">=</font><font color="#993399">41</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup3.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p  <font color="#990000">=</font><font color="#993399">81</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup4.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p <font color="#990000">=</font><font color="#993399">121</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup5.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p <font color="#990000">=</font><font color="#993399">161</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup6.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p <font color="#990000">=</font><font color="#993399">201</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup7.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p <font color="#990000">=</font><font color="#993399">241</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup8.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -n <font color="#993399">40</font> -p <font color="#990000">=</font><font color="#993399">281</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">bup9.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font>       -p <font color="#990000">=</font><font color="#993399">321</font> -q -f <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">booklet.ps:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -p <font color="#993399">2</font> -q -f <font color="#990000">|</font> psbook <font color="#990000">|</font> psnup <font color="#990000">&gt;</font><font color="#009900">$@</font> -pa4 -2

<font color="#990000">book2up.dvi:</font> book2up<font color="#990000">.</font>tex bsheaders<font color="#990000">.</font>sty <font color="#009900">$(TEXS)</font> <font color="#009900">$(STYS)</font> <font color="#009900">$(EGZS)</font> <font color="#009900">$(FIGS)</font>
	latex book2up<font color="#990000">.</font>tex
	<font color="#009900">$(DOIDX2UP)</font>
	<b><font color="#0000FF">while</font></b> grep Rerun book2up<font color="#990000">.</font>log<font color="#990000">;</font> <b><font color="#0000FF">do</font></b> latex book2up<font color="#990000">.</font>tex<font color="#990000">;</font> <font color="#009900">$(DOIDX2UP)</font><font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
	latex book2up<font color="#990000">.</font>tex

<font color="#990000">book2up.tex:</font> book<font color="#990000">.</font>tex 2up<font color="#990000">.</font>awk
	awk -f 2up<font color="#990000">.</font>awk book<font color="#990000">.</font>tex <font color="#990000">&gt;</font><font color="#009900">$@</font>

<i><font color="#9A1900"># PDF files, 2-up version</font></i>
<i><font color="#9A1900"># #######################</font></i>

<font color="#990000">book2up.pdf:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - <font color="#009900">$@</font>

<font color="#990000">pdf2up:</font> book2up<font color="#990000">.</font>dvi
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q         -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup1<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p  <font color="#990000">=</font><font color="#993399">41</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup2<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p  <font color="#990000">=</font><font color="#993399">81</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup3<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">121</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup4<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">161</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup5<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">201</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup6<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">241</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup7<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">281</font> -n <font color="#993399">40</font> <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup8<font color="#990000">.</font>pdf
	dvips <font color="#990000">&lt;</font><font color="#009900">$&lt;</font> -f -q -p <font color="#990000">=</font><font color="#993399">321</font>       <font color="#990000">|</font> psnup -pa4 -2 -q <font color="#990000">|</font> ps2pdf - bup9<font color="#990000">.</font>pdf
	touch pdf2up

<i><font color="#9A1900"># "all": "book" &amp;&amp; "pdf"</font></i>
<i><font color="#9A1900"># ######################</font></i>

<font color="#990000">all:</font> book pdf

<i><font color="#9A1900"># Commands to build tabout.tex, i.e. the tables of the Appendix F,</font></i>
<i><font color="#9A1900"># through the C program "table".  The source file "table.c" uses the</font></i>
<i><font color="#9A1900"># mathematical procedures of the GNU Scientific Library (GSL); for</font></i>
<i><font color="#9A1900"># more informations, see http://www.gnu.org/software/gsl/ .  If the</font></i>
<i><font color="#9A1900"># GSL is not installed, I have left around the old version of the</font></i>
<i><font color="#9A1900"># source code, "old_table.c", that do not need external libraries:</font></i>
<i><font color="#9A1900"># just compile it first with the command</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># gcc -std=c99 -pedantic -W -Wall -O2 -c -o table.o old_table.c</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># before giving any "make" command.  The "old" tables differ from the</font></i>
<i><font color="#9A1900"># "new" ones only for two lines in one of the Fisher's tables.</font></i>
<i><font color="#9A1900"># ####################################################################</font></i>

<font color="#990000">tabout.tex:</font> table
	-rm tabout<font color="#990000">.</font>tex
	<font color="#990000">.</font>/table <font color="#990000">&gt;</font>tabout<font color="#990000">.</font>tex

<font color="#990000">table:</font>  <font color="#009900">$(OBJS)</font>
	<font color="#009900">$(CC)</font> <font color="#009900">$(LDFLAGS)</font> -o <font color="#009900">$@</font> <font color="#009900">$(OBJS)</font>

<font color="#990000">table.o:</font> table<font color="#990000">.</font>c

<i><font color="#9A1900"># Commands to build chicdf.kumac and chirid.kumac</font></i>
<i><font color="#9A1900"># ###############################################</font></i>

<font color="#990000">chicdf.kumac:</font> chicdf
	<font color="#990000">.</font>/chicdf <font color="#990000">&gt;</font><font color="#009900">$@</font>

<font color="#990000">chicdf:</font> chicdf<font color="#990000">.</font>c
	<font color="#009900">$(CC)</font> <font color="#009900">$(CPPFLAGS)</font> <font color="#009900">$(CFLAGS)</font> <font color="#009900">$(LDFLAGS)</font> -o <font color="#009900">$@</font> <font color="#009900">$&lt;</font>

<font color="#990000">chirid.kumac:</font> chirid
	<font color="#990000">.</font>/chirid <font color="#990000">&gt;</font><font color="#009900">$@</font>

<font color="#990000">chirid:</font> chirid<font color="#990000">.</font>c
	<font color="#009900">$(CC)</font> <font color="#009900">$(CPPFLAGS)</font> <font color="#009900">$(CFLAGS)</font> <font color="#009900">$(LDFLAGS)</font> -o <font color="#009900">$@</font> <font color="#009900">$&lt;</font>

<i><font color="#9A1900"># xfig figures in LaTeX mode</font></i>
<i><font color="#9A1900"># ##########################</font></i>

<font color="#990000">poisint.pstex:</font> poisint<font color="#990000">.</font>fig
	fig2dev -L pstex -m <font color="#993399">1.0</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>
	fig2dev -L pstex_t -m <font color="#993399">1.0</font> -p <font color="#009900">$@</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>_t

<font color="#990000">polar.pstex:</font> polar<font color="#990000">.</font>fig
	fig2dev -L pstex -m <font color="#993399">0.48</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>
	fig2dev -L pstex_t -m <font color="#993399">0.48</font> -p <font color="#009900">$@</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>_t

<font color="#990000">runfig.pstex:</font> runfig<font color="#990000">.</font>fig
	fig2dev -L pstex -m <font color="#993399">0.52</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>
	fig2dev -L pstex_t -m <font color="#993399">0.52</font> -p <font color="#009900">$@</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>_t

<font color="#990000">scat.pstex:</font> scat<font color="#990000">.</font>fig
	fig2dev -L pstex -m <font color="#993399">1.0</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>
	fig2dev -L pstex_t -m <font color="#993399">1.0</font> -p <font color="#009900">$@</font> <font color="#009900">$&lt;</font> <font color="#009900">$@</font>_t

<i><font color="#9A1900"># Cleanup</font></i>
<i><font color="#9A1900"># #######</font></i>

<font color="#990000">clean:</font>
	@rm -fv <font color="#990000">*.</font>ps <font color="#990000">*.</font>pdf book pdf twoup pdf2up last<font color="#990000">.*</font> paw<font color="#990000">.*</font> <font color="#990000">*.</font>bak VERSION
	@lintex
	@rm -fv book2up<font color="#990000">.</font>tex Makefile<font color="#990000">.</font>html

<font color="#990000">veryclean:</font>
	make clean
	@rm -rfv brown<font color="#990000">/</font>
	@rm -fv <font color="#990000">*.</font>eps<font color="#990000">.</font>bb <font color="#009900">$(PAWEPS)</font> <font color="#990000">*.</font>pstex<font color="#990000">*</font>
	@rm -fv tabout<font color="#990000">.</font>tex table chicdf chirid tohtml <font color="#990000">*.</font>o
	@<b><font color="#0000FF">if</font></b> <font color="#990000">[</font> <font color="#FF0000">"$$(find . -maxdepth 1 -name '*.eps.gz' | wc -l)"</font> <font color="#990000">!=</font> <font color="#FF0000">"0"</font> <font color="#990000">];</font> <font color="#990000">\</font>
	  <b><font color="#0000FF">then</font></b> gzip -dv <font color="#990000">*.</font>eps<font color="#990000">.</font>gz<font color="#990000">;</font> <b><font color="#0000FF">fi</font></b>

<i><font color="#9A1900"># VERSION - The "VERSION" file, with last file revisions</font></i>
<i><font color="#9A1900"># ######################################################</font></i>

<font color="#990000">VERSION:</font>
	echo <font color="#990000">&gt;</font><font color="#009900">$@</font> <font color="#FF0000">"Revision status as of `date '+%d-%b-%Y %H:%M'` :"</font>
	echo <font color="#990000">&gt;&gt;</font><font color="#009900">$@</font> <font color="#FF0000">""</font>
	<b><font color="#0000FF">for</font></b> f <b><font color="#0000FF">in</font></b> Makefile book<font color="#990000">.</font>tex <font color="#009900">$(TEX0)</font> <font color="#990000">;</font> <font color="#990000">\</font>
	<b><font color="#0000FF">do</font></b> grep <font color="#FF0000">'$$'"Id: "</font> $<font color="#009900">${f}</font> <font color="#990000">|</font> awk -v <font color="#009900">file</font><font color="#990000">=</font><font color="#FF0000">"$${f}"</font> <font color="#990000">\</font>
	   <font color="#FF0000">'{print file "</font><font color="#CC33CC">\t\t</font><font color="#FF0000">Rev. " $$4 "</font><font color="#CC33CC">\t</font><font color="#FF0000">" $$5 " " $$6;}'</font> <font color="#990000">&gt;&gt;</font><font color="#009900">$@</font> <font color="#990000">;</font> <font color="#990000">\</font>
	<b><font color="#0000FF">done</font></b>
	grep <font color="#FF0000">'$$'"Id: "</font> table<font color="#990000">.</font>c <font color="#990000">|</font> awk <font color="#990000">\</font>
	  <font color="#FF0000">'{print "table.c</font><font color="#CC33CC">\t\t\t</font><font color="#FF0000">Rev. " $$3 "</font><font color="#CC33CC">\t</font><font color="#FF0000">" $$4 " " $$5;}'</font> <font color="#990000">&gt;&gt;</font> <font color="#009900">$@</font>
	grep <font color="#FF0000">'$$'"Id: "</font> chicdf<font color="#990000">.</font>c <font color="#990000">|</font> awk <font color="#990000">\</font>
	  <font color="#FF0000">'{print "chicdf.c</font><font color="#CC33CC">\t\t</font><font color="#FF0000">Rev. " $$3 "</font><font color="#CC33CC">\t</font><font color="#FF0000">" $$4 " " $$5;}'</font> <font color="#990000">&gt;&gt;</font> <font color="#009900">$@</font>
	grep <font color="#FF0000">'$$'"Id: "</font> chirid<font color="#990000">.</font>c <font color="#990000">|</font> awk <font color="#990000">\</font>
	  <font color="#FF0000">'{print "chirid.c</font><font color="#CC33CC">\t\t</font><font color="#FF0000">Rev. " $$3 "</font><font color="#CC33CC">\t</font><font color="#FF0000">" $$4 " " $$5;}'</font> <font color="#990000">&gt;&gt;</font> <font color="#009900">$@</font>
	grep <font color="#FF0000">'$$'"Id: "</font> tohtml<font color="#990000">.</font>c <font color="#990000">|</font> awk <font color="#990000">\</font>
	  <font color="#FF0000">'{print "tohtml.c</font><font color="#CC33CC">\t\t</font><font color="#FF0000">Rev. " $$3 "</font><font color="#CC33CC">\t</font><font color="#FF0000">" $$4 " " $$5;}'</font> <font color="#990000">&gt;&gt;</font> <font color="#009900">$@</font>

<i><font color="#9A1900"># Makefile.html - a syntax highlighted copy of Makefile.  Needs</font></i>
<i><font color="#9A1900"># "source-highlight", available under the URL</font></i>
<i><font color="#9A1900"># http://www.gnu.org/software/src-highlite/source-highlight.html</font></i>
<i><font color="#9A1900"># ##############################################################</font></i>

<font color="#990000">Makefile.html:</font> Makefile tohtml
	<font color="#990000">.</font>/tohtml Makefile <font color="#FF0000">"wwwcdf.pd.infn.it/labo/Source"</font> <font color="#990000">\</font>
	--lang-def makefile<font color="#990000">.</font>lang

<font color="#990000">tohtml:</font> tohtml<font color="#990000">.</font>c
	<font color="#009900">$(CC)</font> <font color="#009900">$(CPPFLAGS)</font> -o <font color="#009900">$@</font> <font color="#009900">$&lt;</font>

<i><font color="#9A1900"># Install - Copies the pdf and the source files on the Web</font></i>
<i><font color="#9A1900"># ########################################################</font></i>

<font color="#990000">install:</font> book<font color="#990000">.</font>pdf book2up<font color="#990000">.</font>pdf pdf pdf2up VERSION Makefile<font color="#990000">.</font>html
	<b><font color="#0000FF">for</font></b> f <b><font color="#0000FF">in</font></b> bup<font color="#990000">*.</font>pdf<font color="#990000">;</font> <b><font color="#0000FF">do</font></b> mv $<font color="#009900">$f</font> $${f/bup/twoup}<font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
	scp <font color="#990000">*.</font>pdf VERSION INDEX<font color="#990000">.</font>html Makefile<font color="#990000">.</font>html lx<font color="#990000">:</font>/www/cdf/html/labo<font color="#990000">/</font>
	rm <font color="#990000">*.</font>pdf VERSION pdf pdf2up
	-scp `ls <font color="#990000">|</font> grep -v INDEX<font color="#990000">.</font>html` lx<font color="#990000">:</font>/www/cdf/html/labo/Source<font color="#990000">/</font>
	make veryclean
	make brown
	make -C brown book<font color="#990000">.</font>pdf book2up<font color="#990000">.</font>pdf pdf pdf2up
	<b><font color="#0000FF">for</font></b> f <b><font color="#0000FF">in</font></b> brown/bup<font color="#990000">*.</font>pdf<font color="#990000">;</font> <b><font color="#0000FF">do</font></b> mv $<font color="#009900">$f</font> $${f/bup/twoup}<font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
	scp brown<font color="#990000">/*.</font>pdf lx<font color="#990000">:</font>/www/cdf/html/labo/brown<font color="#990000">/</font>
	ssh lx <font color="#FF0000">"cd /www/cdf/html/labo &amp;&amp; tar cvzf Source.tar.gz Source/"</font>
	ssh lx <font color="#FF0000">"cd /www/cdf/html/labo &amp;&amp; tar cvjf Source.tar.bz2 Source/"</font>

<i><font color="#9A1900"># Brown version</font></i>
<i><font color="#9A1900"># #############</font></i>

<i><font color="#9A1900"># "make brown" generates in a subdirectory ./brown versions of the TeX</font></i>
<i><font color="#9A1900"># files and of all the figures suitable for printing in brown and not</font></i>
<i><font color="#9A1900"># in black.  The three macros BROWN1, BROWN2 and BROWN3 define the RGB</font></i>
<i><font color="#9A1900"># components of the printing color (here, "SaddleBrown") in three</font></i>
<i><font color="#9A1900"># different ways; BROWN4 and BROWN5 refer the to color shades</font></i>
<i><font color="#9A1900"># corresponding to "gray96" and "gray61", roughly estimated from the</font></i>
<i><font color="#9A1900"># expression C=C+(1.0-C)*G: where "C" is the R, G or B component of</font></i>
<i><font color="#9A1900"># the printing color as given in BROWN3, and G is the grayscale factor</font></i>
<i><font color="#9A1900"># (0.96 or 0.61).</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900">#				CAVEATS</font></i>
<i><font color="#9A1900">#				=======</font></i>
<i><font color="#9A1900">#</font></i>
<i><font color="#9A1900"># 1) The conversion from black to brown of the bo.eps file requires</font></i>
<i><font color="#9A1900">#    "convert", from the ImageMagick package, version *6* or later.</font></i>
<i><font color="#9A1900"># 2) The conversion from black to brown of the .pstex and .pstex_t</font></i>
<i><font color="#9A1900">#    files depends from the syntax of the fig2dev output; this may</font></i>
<i><font color="#9A1900">#    change in the future.</font></i>

<font color="#009900">BROWN1	=</font> SaddleBrown
<font color="#009900">BROWN2	=</font> <font color="#993399">0.55</font><font color="#990000">,</font><font color="#993399">0.27</font><font color="#990000">,</font><font color="#993399">0.07</font>
<font color="#009900">BROWN3	=</font> <font color="#993399">0.55</font> <font color="#993399">0.27</font> <font color="#993399">0.07</font>
<font color="#009900">BROWN4	=</font> <font color="#993399">0.96</font> <font color="#993399">0.93</font> <font color="#993399">0.92</font>
<font color="#009900">BROWN5	=</font> <font color="#993399">0.82</font> <font color="#993399">0.71</font> <font color="#993399">0.64</font>

<font color="#990000">brown:</font>
	rm -rf brown<font color="#990000">/</font>
	mkdir brown
	<b><font color="#0000FF">if</font></b> <font color="#990000">[</font> -r bo<font color="#990000">.</font>eps<font color="#990000">.</font>gz <font color="#990000">];</font> <b><font color="#0000FF">then</font></b> gzip -dc bo<font color="#990000">.</font>eps<font color="#990000">.</font>gz <font color="#990000">&gt;</font> bo<font color="#990000">.</font>eps<font color="#990000">;</font> <b><font color="#0000FF">fi</font></b>
	convert bo<font color="#990000">.</font>eps -fill <font color="#009900">$(BROWN1)</font> -opaque Black brown/bo<font color="#990000">.</font>eps
	<b><font color="#0000FF">if</font></b> <font color="#990000">[</font> -r bo<font color="#990000">.</font>eps<font color="#990000">.</font>gz <font color="#990000">];</font> <b><font color="#0000FF">then</font></b> rm -f bo<font color="#990000">.</font>eps<font color="#990000">;</font> <b><font color="#0000FF">fi</font></b>
	awk <font color="#FF0000">'{print} \</font>
<font color="#FF0000">	  /</font><font color="#CC33CC">\\</font><font color="#FF0000">begin{document}/ { \</font>
<font color="#FF0000">	  print "</font><font color="#CC33CC">\\</font><font color="#FF0000">renewcommand{</font><font color="#CC33CC">\\</font><font color="#FF0000">normalcolor}{</font><font color="#CC33CC">\\</font><font color="#FF0000">color[rgb]{$(BROWN2)}}"; \</font>
<font color="#FF0000">	  print "</font><font color="#CC33CC">\\</font><font color="#FF0000">normalcolor</font><font color="#CC33CC">\n</font><font color="#FF0000">"}'</font> book<font color="#990000">.</font>tex <font color="#990000">&gt;</font> brown/book<font color="#990000">.</font>tex
	make tabout<font color="#990000">.</font>tex <font color="#009900">$(FIGS)</font>
	cp <font color="#990000">*.</font>c <font color="#990000">*.</font>awk <font color="#990000">*.</font>fig brown<font color="#990000">/</font>
	cp <font color="#990000">*.</font>o brown<font color="#990000">/</font>
	cp table brown<font color="#990000">/</font>
	cp <font color="#009900">$(TEXS)</font> <font color="#009900">$(STYS)</font> brown<font color="#990000">/</font>
	<b><font color="#0000FF">for</font></b> file <b><font color="#0000FF">in</font></b> <font color="#990000">*.</font>pstex<font color="#990000">;</font> <font color="#990000">\</font>
	  <b><font color="#0000FF">do</font></b> sed -e <font color="#FF0000">"s/0.000 0.000 0.000/$(BROWN3)/"</font> <font color="#990000">\</font>
	  -e <font color="#FF0000">"s/0.00 setgray/col0/"</font> <font color="#990000">\</font>
	  -e <font color="#FF0000">"s/0.910 0.910 0.910/$(BROWN4)/"</font> <font color="#990000">\</font>
	  -e <font color="#FF0000">"s/0.608 0.608 0.608/$(BROWN5)/"</font> <font color="#990000">\</font>
	  $<font color="#009900">$file</font> <font color="#990000">&gt;</font> brown<font color="#990000">/</font>$<font color="#009900">$file</font><font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
	<b><font color="#0000FF">for</font></b> file <b><font color="#0000FF">in</font></b> <font color="#990000">*.</font>pstex_t<font color="#990000">;</font> <font color="#990000">\</font>
	  <b><font color="#0000FF">do</font></b> sed -e <font color="#FF0000">"s/</font><font color="#CC33CC">\[</font><font color="#FF0000">rgb</font><font color="#CC33CC">\]</font><font color="#FF0000">{0,0,0}/</font><font color="#CC33CC">\[</font><font color="#FF0000">rgb</font><font color="#CC33CC">\]</font><font color="#FF0000">{$(BROWN2)}/"</font> <font color="#990000">\</font>
	  $<font color="#009900">$file</font> <font color="#990000">&gt;</font> brown<font color="#990000">/</font>$<font color="#009900">$file</font><font color="#990000">;</font> <b><font color="#0000FF">done</font></b>
</tt></pre>
</td></tr></table></center>
<p><hr><p>
File name: Makefile<br>
File size: 12661 bytes<br>
Last modified: Wed Nov  8 12:00:56 2006
</body></html>
